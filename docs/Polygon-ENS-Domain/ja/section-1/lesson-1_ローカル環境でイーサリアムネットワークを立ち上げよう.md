### 📚 ブロックチェーン入門

さて、まずローカル環境のイーサリアムネットワークを用意する必要があります。

Webアプリで作業するには、ローカル環境をどのように起動する必要があるでしょうか？

今のところ、知っておく必要があるのは、スマートコントラクトはブロックチェーン上に存在するコードの一部であるということだけです。

ブロックチェーンは、誰でも安全にデータを有料で読み書きできる公共の場所です。

誰も実際に所有していないことを除けば、AWSのようなものだと考えてください。

ブロックチェーンは「マイナー」として知られている何千人もの匿名の人々によって運営されています。

ここでの全体像は次のとおりです。

1. **スマートコントラクトを作成します**。
そのコントラクトには、ドメインに関するすべてのロジックが含まれています。

2. **これから作るスマートコントラクトはブロックチェーン上にデプロイされます**。
- 世界中の誰もがあなたのスマートコントラクトにアクセスしてドメインをミントすることができるようになります。

3. **ドメインを簡単に作成できる Web サイトを構築します。**
### ⚙️ ローカルツールをセットアップする

スマートコントラクトをすばやくコンパイルし、ローカル環境でテストするために、**Hardhat** というツールを使用します。

- Hardhatにより、ローカル環境でイーサリアムネットワークを簡単に起動し、テストネットでイーサリアムを利用できます。
- サーバーがブロックチェーンであることを除けば、Hardhatはローカルサーバーと同じです。

まず、`node` / `npm`を取得する必要があります。お持ちでない場合は、[こちら](https://hardhat.org/tutorial/setting-up-the-environment.html) にアクセスし、`node v16`をインストールしてください。

- 使用するバージョンは`16`です。

次に、ターミナルに向かいましょう。

作業したいディレクトリに移動したら、次のコマンドを実行します。

`mkdir`で作業ディレクトリを作成し`cd`で移動します。移動できたら`npm`で次のようにコマンドを実行します。

```bash
mkdir cool-domains
cd cool-domains
npm init -y
npm install --save-dev hardhat
```

最後のコマンドを実行してHardhatをインストールすると、脆弱性に関するメッセージが表示される場合があります。

NPMから何かをインストールするたびに、インストールしているライブラリに脆弱性が報告されているかどうかを確認するためにセキュリティチェックが行われます。

これは警告のようなものです。

`npx audit fix`を実行すると問題が発生する可能性があるため、スキップすることをお勧めします。

スキップしてもここでは特に問題は発生しません。

詳細を知りたい場合は、これらの脆弱性について少しグーグルで調べてみてもいいかもしれませんね。

### 🪄 サンプルプロジェクト

さぁhardhatを準備してサンプルプロジェクトを始めましょう。

```bash
npx hardhat
```

`hardhat`がターミナル上で立ち上がったら、`Create a JavaScript project`を選択します。

- プロジェクトのルートディレクトリを設定し、`.gitignore`を追加する選択肢で`yes`を選んでください。

サンプルプロジェクトでは、`hardhat-toolbox`をインストールするように求められます。

これらは後で使用する他のツールです。

自動的に実行されなかった場合に備えてインストールしておきます。

```bash
npm install --save-dev @nomicfoundation/hardhat-toolbox
```

また、安全なスマートコントラクトを開発するために多く使用されている別のライブラリである**OpenZeppelin**をインストールします。

これについては後で詳しく説明します。

ここではインストールするだけで結構です。

```bash
npm install @openzeppelin/contracts
```

### 🌟 実行しましょう

さてhardhatが問題なく動作するか確認しましょう。

```bash
 npx hardhat compile
```

その後、

```bash
npx hardhat test
```

を実行します。

次のような画面が表示されるはずです。

![](/public/images/Polygon-ENS-Domain/section-1/1_1_1.png)

少しディレクトリを整理しましょう。

お気に入りのコードエディタでプロジェクトのディレクトリを開きます。

VSCodeが使いやすいかと思います。

スターターコードを削除したいと思います。ここでは特に必要ありません。

VSCodeなどテキストエディタの左に表示されるフォルダ一覧で以下を実行しましょう。

ここまできたら、フォルダーの中身を整理しましょう。

まず、`test`の下のファイル`Lock.js`を削除します。

1. `test`フォルダーに移動: `cd test`

2. `Lock.js`を削除: `rm Lock.js`

次に、上記の手順を参考にして`contracts`の下の`Lock.sol`を削除してください。

なお、**実際のフォルダは削除しない**でください。

_上記削除関係の操作は通常の PC での UI 操作で可能ですが、もちろんターミナルでのコマンド操作の練習のため`cd`や`rm`などでやっていただいても構いません。_

### 🙋‍♂️ 質問する

ここまでの作業で何かわからないことがある場合は、Discordの`#polygon`で質問をしてください。

ヘルプをするときのフローが円滑になるので、エラーレポートには下記の3点を記載してください ✨

```
1. 質問が関連しているセクション番号とレッスン番号
2. 何をしようとしていたか
3. エラー文をコピー&ペースト
4. エラー画面のスクリーンショット
```

---

以上の環境設定が完了したら、次のレッスンに進んでください 🎉
